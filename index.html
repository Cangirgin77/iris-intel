<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IRIS â€¢ AI Marka GÃ¶rÃ¼nÃ¼rlÃ¼k Analizi</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
    * { font-family: 'Inter', sans-serif; }
    body { background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%); }
    
    .gradient-text { 
      background: linear-gradient(90deg, #60a5fa, #a78bfa, #f472b6);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .glass-card {
      background: rgba(15, 23, 42, 0.6);
      border: 1px solid rgba(148, 163, 184, 0.1);
      backdrop-filter: blur(10px);
    }
    
    .hidden-section { display: none; }
    
    .shimmer {
      animation: shimmer 2s infinite;
    }
    @keyframes shimmer {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 1; }
    }
    
    .pulse-slow {
      animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }
    
    .fade-in {
      animation: fadeIn 0.5s ease-in;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .score-circle {
      width: 140px;
      height: 140px;
      border-radius: 50%;
      background: conic-gradient(
        from 0deg,
        #ef4444 0deg,
        #f59e0b calc(var(--score) * 3.6deg),
        #10b981 calc(var(--score) * 3.6deg),
        #334155 360deg
      );
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }
    
    .score-inner {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      background: #0f172a;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
    }

    .menu-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(5px);
      z-index: 998;
      display: none;
    }
    
    .menu-overlay.active { display: block; }
    
    .menu-sidebar {
      position: fixed;
      top: 0;
      left: -320px;
      width: 320px;
      height: 100%;
      background: linear-gradient(180deg, #0f172a 0%, #1e293b 100%);
      border-right: 1px solid rgba(148, 163, 184, 0.2);
      z-index: 999;
      transition: left 0.3s ease;
      overflow-y: auto;
    }
    
    .menu-sidebar.active { left: 0; }
    
    .menu-item {
      padding: 16px 24px;
      display: flex;
      align-items: center;
      gap: 12px;
      cursor: pointer;
      transition: all 0.2s;
      border-left: 3px solid transparent;
    }
    
    .menu-item:hover {
      background: rgba(59, 130, 246, 0.1);
      border-left-color: #3b82f6;
    }
    
    .menu-item.active {
      background: rgba(59, 130, 246, 0.15);
      border-left-color: #3b82f6;
    }
  </style>
</head>
<body class="min-h-screen text-white">

  <button id="menuToggle" class="fixed top-6 left-6 z-50 w-12 h-12 bg-slate-800/80 backdrop-blur-sm border border-slate-700 rounded-xl flex items-center justify-center hover:bg-slate-700 transition">
    <i data-lucide="menu" class="w-6 h-6 text-white"></i>
  </button>

  <div id="menuOverlay" class="menu-overlay"></div>

  <div id="menuSidebar" class="menu-sidebar">
    <div class="p-6 border-b border-slate-700">
      <h2 class="text-2xl font-black gradient-text">IRIS</h2>
      <p class="text-xs text-slate-400 mt-1">AI Marka Ä°stihbaratÄ±</p>
    </div>
    
    <nav class="py-4">
      <div class="menu-item active" data-page="analysis">
        <i data-lucide="search" class="w-5 h-5 text-blue-400"></i>
        <div>
          <div class="font-semibold text-sm">Marka Analizi</div>
          <div class="text-xs text-slate-500">MarkanÄ±zÄ± analiz edin</div>
        </div>
      </div>
      
      <div class="menu-item" data-page="market">
        <i data-lucide="trending-up" class="w-5 h-5 text-green-400"></i>
        <div>
          <div class="font-semibold text-sm">Pazar AraÅŸtÄ±rmasÄ±</div>
          <div class="text-xs text-slate-500">BaÅŸarÄ±lÄ± markalarÄ± inceleyin</div>
        </div>
      </div>
    </nav>
    
    <div class="absolute bottom-0 left-0 right-0 p-6 border-t border-slate-700">
      <p class="text-xs text-slate-500 leading-relaxed">
        Gemini 2.5 Flash teknolojisi ile gÃ¼Ã§lendirilmiÅŸtir.
      </p>
    </div>
  </div>

  <div id="page-analysis" class="page-content">
    
    <div id="section-input" class="container mx-auto px-4 py-12 max-w-6xl">
      
      <div class="text-center mb-16 fade-in ml-16">
        <h1 class="text-6xl font-black mb-4">
          <span class="gradient-text">IRIS</span>
        </h1>
        <p class="text-slate-400 text-lg max-w-2xl mx-auto leading-relaxed">
          MarkanÄ±zÄ±n <strong>ChatGPT, Gemini, Claude</strong> gibi yapay zeka platformlarÄ±nda ne kadar gÃ¶rÃ¼nÃ¼r olduÄŸunu keÅŸfedin.
        </p>
        <div class="flex items-center justify-center gap-2 mt-6">
          <span class="inline-block w-2 h-2 bg-green-500 rounded-full pulse-slow"></span>
          <span class="text-xs text-slate-500 uppercase tracking-wider">Gemini 2.5 Flash Teknolojisi</span>
        </div>
      </div>

      <div class="glass-card rounded-3xl p-8 mb-12 max-w-2xl mx-auto fade-in">
        <div class="mb-6">
          <label class="block text-sm font-semibold text-slate-300 mb-2">Marka AdÄ±</label>
          <input 
            id="brandInput" 
            type="text" 
            placeholder="Ã–rn: Tesla, Apple, Nike..."
            class="w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 transition"
          >
        </div>
        
        <div class="mb-6">
          <label class="block text-sm font-semibold text-slate-300 mb-2">SektÃ¶r</label>
          <input 
            id="industryInput" 
            type="text" 
            placeholder="Ã–rn: Otomotiv, Teknoloji, GÄ±da..."
            class="w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 transition"
          >
        </div>

        <button 
          id="analyzeBtn"
          class="w-full py-4 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 rounded-xl font-bold text-white hover:scale-[1.02] transition-transform shadow-lg"
        >
          ğŸ” ANALÄ°ZÄ° BAÅLAT
        </button>
      </div>

    </div>

    <div id="section-loading" class="hidden-section container mx-auto px-4 py-12 max-w-2xl">
      <div class="glass-card rounded-3xl p-12 text-center fade-in">
        <div class="score-circle mx-auto mb-6" style="--score: 50;">
          <div class="score-inner">
            <div class="text-2xl font-bold shimmer">âš¡</div>
          </div>
        </div>
        <h3 class="text-2xl font-bold mb-3">Analiz YapÄ±lÄ±yor...</h3>
        <p id="loadingText" class="text-slate-400 text-sm mb-6">
          ğŸ” AI platformlarÄ± taranÄ±yor...
        </p>
        <div class="flex justify-center gap-2">
          <span class="w-2 h-2 bg-blue-500 rounded-full shimmer" style="animation-delay: 0s"></span>
          <span class="w-2 h-2 bg-purple-500 rounded-full shimmer" style="animation-delay: 0.2s"></span>
          <span class="w-2 h-2 bg-pink-500 rounded-full shimmer" style="animation-delay: 0.4s"></span>
        </div>
      </div>
    </div>

    <div id="section-results" class="hidden-section container mx-auto px-4 py-12 max-w-7xl ml-20">
      
      <div class="glass-card rounded-3xl p-8 mb-6 fade-in">
        <div class="flex flex-col md:flex-row items-center justify-between gap-6">
          <div class="flex-1">
            <h2 class="text-3xl font-black mb-2">
              Analiz Raporu
              <span class="inline-block px-3 py-1 ml-3 text-xs font-bold bg-green-500/20 text-green-400 rounded-full">CONFIDENTIAL</span>
            </h2>
            <p id="resBrandName" class="text-slate-400 text-lg">-</p>
          </div>
          <div class="text-center">
            <div class="score-circle mx-auto mb-2" id="scoreCircle" style="--score: 0;">
              <div class="score-inner">
                <div id="resScore" class="text-4xl font-black text-white">0</div>
                <div class="text-[9px] text-slate-500 uppercase tracking-wider">Skor</div>
              </div>
            </div>
            <div id="scoreCategory" class="inline-block px-3 py-1 text-xs font-bold rounded-full bg-slate-800 text-slate-400 mb-2">
              -
            </div>
            <p id="resScoreExplanation" class="text-xs text-slate-400 max-w-xs leading-relaxed"></p>
          </div>
        </div>
      </div>

      <div class="grid lg:grid-cols-2 gap-6">
        
        <div class="space-y-6">
          
          <div class="glass-card rounded-3xl p-6 fade-in">
            <div class="flex items-center gap-3 mb-4">
              <div class="w-10 h-10 rounded-xl bg-blue-500/20 flex items-center justify-center">
                <i data-lucide="fingerprint" class="w-5 h-5 text-blue-400"></i>
              </div>
              <div>
                <h3 class="text-lg font-bold">Kimlik Tespiti</h3>
                <p class="text-xs text-slate-500">Beyan vs. AI AlgÄ±sÄ±</p>
              </div>
            </div>
            
            <div class="relative pl-4 mb-4">
              <div id="matchIndicator" class="absolute top-0 left-0 w-1 h-full bg-emerald-500 rounded-full"></div>
              <div class="grid grid-cols-2 gap-3">
                <div class="bg-slate-800/50 rounded-lg p-3 border border-slate-700">
                  <div class="text-[9px] text-slate-500 uppercase tracking-wider mb-1">Beyan</div>
                  <div id="resClaimedSector" class="text-sm font-semibold text-slate-300">-</div>
                </div>
                <div class="bg-slate-800/50 rounded-lg p-3 border border-slate-700">
                  <div class="text-[9px] text-slate-500 uppercase tracking-wider mb-1">AI Tespiti</div>
                  <div id="resDetectedSector" class="text-sm font-semibold text-slate-300">-</div>
                </div>
              </div>
              <div class="mt-3 flex items-center justify-between">
                <span class="text-xs text-slate-500">Durum:</span>
                <span id="resMatchStatus" class="text-[9px] font-bold px-2 py-0.5 rounded bg-emerald-950 text-emerald-400 border border-emerald-900">-</span>
              </div>
            </div>

            <div id="resInsight" class="bg-slate-800/30 rounded-lg p-3 border-l-2 border-blue-500 text-xs text-slate-300 leading-relaxed">
              <span>-</span>
            </div>
          </div>

          <div class="glass-card rounded-3xl p-6 fade-in">
            <h3 class="text-xs font-bold text-slate-500 uppercase tracking-wider mb-3">Taranan Platformlar</h3>
            <div id="resPlatforms" class="space-y-2"></div>
          </div>

          <div class="glass-card rounded-3xl p-6 fade-in">
            <div class="flex items-center gap-3 mb-4">
              <div class="w-10 h-10 rounded-xl bg-purple-500/20 flex items-center justify-center">
                <i data-lucide="file-text" class="w-5 h-5 text-purple-400"></i>
              </div>
              <h3 class="text-lg font-bold">YÃ¶netici Ã–zeti</h3>
            </div>
            <p id="resSummary" class="text-sm text-slate-300 leading-relaxed">-</p>
          </div>

          <div class="grid grid-cols-2 gap-4">
            <div class="glass-card rounded-2xl p-4 fade-in">
              <h3 class="text-sm font-bold mb-3 flex items-center gap-2">
                <i data-lucide="thumbs-up" class="w-4 h-4 text-emerald-400"></i>
                <span>GÃ¼Ã§lÃ¼ YÃ¶nler</span>
              </h3>
              <ul id="resStrengths" class="space-y-2 text-xs text-slate-400"></ul>
            </div>
            <div class="glass-card rounded-2xl p-4 fade-in">
              <h3 class="text-sm font-bold mb-3 flex items-center gap-2">
                <i data-lucide="alert-triangle" class="w-4 h-4 text-rose-400"></i>
                <span>ZayÄ±f YÃ¶nler</span>
              </h3>
              <ul id="resWeaknesses" class="space-y-2 text-xs text-slate-400"></ul>
            </div>
          </div>

        </div>

        <div class="space-y-6">
          
          <div class="glass-card rounded-3xl p-6 fade-in">
            <div class="flex items-center gap-3 mb-4">
              <div class="w-10 h-10 rounded-xl bg-pink-500/20 flex items-center justify-center">
                <i data-lucide="users" class="w-5 h-5 text-pink-400"></i>
              </div>
              <h3 class="text-lg font-bold">Rakip Analizi</h3>
            </div>
            <div id="resCompetitors" class="space-y-3"></div>
          </div>

          <div class="glass-card rounded-3xl p-6 fade-in">
            <div class="flex items-center gap-3 mb-4">
              <div class="w-10 h-10 rounded-xl bg-yellow-500/20 flex items-center justify-center">
                <i data-lucide="lightbulb" class="w-5 h-5 text-yellow-400"></i>
              </div>
              <h3 class="text-lg font-bold">Daha GÃ¶rÃ¼nÃ¼r Olmak Ä°Ã§in Tavsiyeler</h3>
            </div>
            <div class="bg-gradient-to-br from-yellow-500/10 to-orange-500/10 rounded-lg p-4 border border-yellow-500/20">
              <ul id="resVisibilityRecommendations" class="space-y-2 text-xs text-slate-200"></ul>
            </div>
          </div>

          <div class="glass-card rounded-3xl p-6 fade-in">
            <div class="flex items-center gap-3 mb-4">
              <div class="w-10 h-10 rounded-xl bg-green-500/20 flex items-center justify-center">
                <i data-lucide="target" class="w-5 h-5 text-green-400"></i>
              </div>
              <h3 class="text-lg font-bold">AlgÄ± Optimizasyonu</h3>
            </div>
            
            <div class="bg-slate-800/50 rounded-lg p-4 border border-slate-700">
              <p id="resOptRationale" class="text-xs text-slate-400 leading-relaxed whitespace-pre-line">-</p>
            </div>
          </div>

        </div>

      </div>

      <div class="text-center mt-8">
        <button 
          id="resetBtn"
          class="px-6 py-3 bg-slate-800 hover:bg-slate-700 border border-slate-700 rounded-xl font-semibold text-white transition"
        >
          ğŸ”„ Yeni Analiz Yap
        </button>
      </div>

    </div>

  </div>

  <div id="page-market" class="page-content hidden-section">
    <div class="container mx-auto px-4 py-12 max-w-7xl ml-20">
      
      <div class="text-center mb-12 fade-in">
        <h1 class="text-5xl font-black mb-4 gradient-text">Pazar AraÅŸtÄ±rmasÄ±</h1>
        <p class="text-slate-400 text-lg max-w-3xl mx-auto leading-relaxed">
          YÃ¼ksek AI gÃ¶rÃ¼nÃ¼rlÃ¼k skoruna sahip markalarÄ± inceleyin. BaÅŸarÄ± faktÃ¶rlerini Ã¶ÄŸrenin ve kendi stratejinizi geliÅŸtirin.
        </p>
      </div>

      <div class="max-w-2xl mx-auto mb-8">
        <div class="glass-card rounded-2xl p-6">
          <label class="block text-sm font-semibold text-slate-300 mb-3">ğŸ” SektÃ¶r Ara</label>
          <input 
            id="sectorSearch" 
            type="text" 
            placeholder="Ã–rn: Otomotiv, Teknoloji, GÄ±da, E-Ticaret..."
            class="w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 transition"
          >
          <p class="text-xs text-slate-500 mt-2">SektÃ¶r yazÄ±n, Ã¶nde gelen markalarÄ± keÅŸfedin!</p>
        </div>
      </div>

      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6" id="marketResearch"></div>

    </div>
  </div>

  <!-- DETAYLI ANALÄ°Z MODAL -->
  <div id="detailModal" class="fixed inset-0 bg-black/80 backdrop-blur-sm z-[1000] hidden items-center justify-center p-4">
    <div class="glass-card rounded-3xl max-w-5xl w-full max-h-[90vh] overflow-y-auto">
      <div class="sticky top-0 bg-slate-900/95 backdrop-blur-sm p-6 border-b border-slate-700 flex items-center justify-between z-10">
        <div class="flex items-center gap-4">
          <div id="modalLogo" class="w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500/20 to-purple-500/20 flex items-center justify-center text-3xl"></div>
          <div>
            <h2 id="modalTitle" class="text-3xl font-black gradient-text"></h2>
            <p id="modalIndustry" class="text-sm text-slate-400"></p>
          </div>
        </div>
        <button id="closeModal" class="w-10 h-10 rounded-xl bg-slate-800 hover:bg-slate-700 flex items-center justify-center transition">
          <i data-lucide="x" class="w-5 h-5"></i>
        </button>
      </div>

      <div class="p-6 space-y-6">
        
        <!-- Skor -->
        <div class="glass-card rounded-2xl p-6 text-center">
          <div class="text-6xl font-black gradient-text mb-2" id="modalScore">0</div>
          <div class="text-sm text-slate-400">AI GÃ¶rÃ¼nÃ¼rlÃ¼k Skoru</div>
        </div>

        <!-- BaÅŸarÄ± FaktÃ¶rleri -->
        <div class="glass-card rounded-2xl p-6">
          <h3 class="text-xl font-bold mb-4 flex items-center gap-2">
            <i data-lucide="star" class="w-5 h-5 text-yellow-400"></i>
            BaÅŸarÄ± FaktÃ¶rleri
          </h3>
          <ul id="modalFactors" class="space-y-3"></ul>
        </div>

        <!-- Ä°yi YaptÄ±klarÄ± -->
        <div class="glass-card rounded-2xl p-6">
          <h3 class="text-xl font-bold mb-4 flex items-center gap-2">
            <i data-lucide="thumbs-up" class="w-5 h-5 text-emerald-400"></i>
            Ä°yi YaptÄ±klarÄ± Åeyler
          </h3>
          <ul id="modalStrengths" class="space-y-3"></ul>
        </div>

        <!-- KÃ¶tÃ¼ YaptÄ±klarÄ± / GeliÅŸim AlanlarÄ± -->
        <div class="glass-card rounded-2xl p-6">
          <h3 class="text-xl font-bold mb-4 flex items-center gap-2">
            <i data-lucide="alert-triangle" class="w-5 h-5 text-orange-400"></i>
            GeliÅŸim AlanlarÄ±
          </h3>
          <ul id="modalWeaknesses" class="space-y-3"></ul>
        </div>

        <!-- Rakipler -->
        <div class="glass-card rounded-2xl p-6">
          <h3 class="text-xl font-bold mb-4 flex items-center gap-2">
            <i data-lucide="users" class="w-5 h-5 text-pink-400"></i>
            DoÄŸrudan Rakipleri
          </h3>
          <div id="modalCompetitors" class="grid md:grid-cols-2 gap-3"></div>
        </div>

        <!-- Stratejik Ã–neriler -->
        <div class="glass-card rounded-2xl p-6">
          <h3 class="text-xl font-bold mb-4 flex items-center gap-2">
            <i data-lucide="lightbulb" class="w-5 h-5 text-yellow-400"></i>
            Bu Markadan Ã–ÄŸrenebilecekleriniz
          </h3>
          <ul id="modalLearnings" class="space-y-3"></ul>
        </div>

      </div>
    </div>
  </div>

  <script>
    lucide.createIcons();

    const VERCEL_BACKEND_URL = "https://iris-intel.vercel.app/api/analyze";

    const loadingMessages = [
      "ğŸ” AI platformlarÄ± taranÄ±yor...",
      "ğŸ¤– ChatGPT, Claude, Gemini sorgulanÄ±yor...",
      "ğŸ“Š Rakip analizi yapÄ±lÄ±yor...",
      "ğŸ’¡ DetaylÄ± Ã¶neriler hazÄ±rlanÄ±yor...",
      "ğŸ¯ Veriler iÅŸleniyor..."
    ];

    let loadingInterval;

    // MENÃœ EVENT LÄ°STENERLARI
    document.getElementById('menuToggle').addEventListener('click', toggleMenu);
    document.getElementById('menuOverlay').addEventListener('click', toggleMenu);

    document.querySelectorAll('.menu-item').forEach(item => {
      item.addEventListener('click', function() {
        const page = this.getAttribute('data-page');
        navigateTo(page);
      });
    });

    // Ã–NEMLÄ°: ANALÄ°ZÄ° BAÅLAT BUTONUNA EVENT LÄ°STENER EKLEME
    document.getElementById('analyzeBtn').addEventListener('click', startAnalysis);
    
    // ENTER TUÅU Ä°LE DE Ã‡ALIÅABÄ°LSÄ°N
    document.getElementById('brandInput').addEventListener('keypress', function(e) {
      if (e.key === 'Enter') startAnalysis();
    });
    document.getElementById('industryInput').addEventListener('keypress', function(e) {
      if (e.key === 'Enter') startAnalysis();
    });

    // RESET BUTONU
    document.getElementById('resetBtn').addEventListener('click', resetApp);

    function toggleMenu() {
      document.getElementById('menuSidebar').classList.toggle('active');
      document.getElementById('menuOverlay').classList.toggle('active');
    }

    function navigateTo(page) {
      document.querySelectorAll('.page-content').forEach(p => p.classList.add('hidden-section'));
      document.getElementById(`page-${page}`).classList.remove('hidden-section');
      
      document.querySelectorAll('.menu-item').forEach(item => item.classList.remove('active'));
      document.querySelector(`[data-page="${page}"]`).classList.add('active');
      
      toggleMenu();
      
      if (page === 'market') {
        loadMarketResearch();
      }
    }

    const allMarketData = [
      {
        name: "Tesla",
        score: 95,
        industry: "Otomotiv",
        logo: "âš¡",
        factors: [
          "GÃ¼Ã§lÃ¼ marka ismi ve CEO vizyonu (Elon Musk)",
          "YÃ¼ksek medya gÃ¶rÃ¼nÃ¼rlÃ¼ÄŸÃ¼ ve haber deÄŸeri",
          "Teknik dokÃ¼mantasyon ve aÃ§Ä±k kaynak stratejisi",
          "Sosyal medya dominansÄ± ve viral pazarlama",
          "Ä°novasyon odaklÄ± marka algÄ±sÄ±"
        ],
        strengths: [
          "Elektrikli araÃ§ pazarÄ±nda Ã¶ncÃ¼ ve lider konumu",
          "Teknoloji ve yazÄ±lÄ±m entegrasyonunda Ã¼stÃ¼nlÃ¼k",
          "Over-the-air gÃ¼ncellemeler ile sÃ¼rekli iyileÅŸtirme",
          "Supercharger aÄŸÄ± ile altyapÄ± avantajÄ±",
          "GÃ¼Ã§lÃ¼ marka sadakati ve topluluk desteÄŸi",
          "Otonom sÃ¼rÃ¼ÅŸ teknolojisinde ileri seviye AR-GE"
        ],
        weaknesses: [
          "Ãœretim kapasitesi bazen talebi karÅŸÄ±lamada zorlanÄ±yor",
          "Kalite kontrol ve mÃ¼ÅŸteri hizmetlerinde ÅŸikayetler",
          "Geleneksel otomotiv Ã¼reticilerine gÃ¶re az servis noktasÄ±",
          "CEO'nun sosyal medya kullanÄ±mÄ± bazen markaya zarar verebiliyor",
          "Premium fiyatlandÄ±rma geniÅŸ kitleye ulaÅŸmayÄ± zorlaÅŸtÄ±rÄ±yor"
        ],
        competitors: [
          { name: "BYD", score: 87 },
          { name: "Rivian", score: 78 },
          { name: "Lucid Motors", score: 72 },
          { name: "NIO", score: 81 }
        ],
        learnings: [
          "Teknoloji ve otomotivi birleÅŸtirerek yeni bir kategori yaratÄ±n",
          "CEO'yu marka elÃ§isi olarak kullanÄ±n ama dikkatli olun",
          "AÃ§Ä±k kaynak ve topluluk odaklÄ± yaklaÅŸÄ±m gÃ¼ven oluÅŸturur",
          "SÃ¼rekli yenilik ve gÃ¼ncelleme mÃ¼ÅŸteri memnuniyetini artÄ±rÄ±r",
          "AltyapÄ± yatÄ±rÄ±mlarÄ± (Supercharger gibi) rekabet avantajÄ± saÄŸlar"
        ]
      },
      {
        name: "BYD",
        score: 87,
        industry: "Otomotiv",
        logo: "ğŸ”‹",
        factors: [
          "DÃ¼ÅŸÃ¼k maliyetli Ã¼retim gÃ¼cÃ¼",
          "Batarya teknolojisinde dikey entegrasyon",
          "Ã‡in pazarÄ±nda gÃ¼Ã§lÃ¼ konum",
          "Hem elektrikli hem hibrit model Ã§eÅŸitliliÄŸi",
          "HÄ±zlÄ± global geniÅŸleme"
        ],
        strengths: [
          "Kendi bataryalarÄ±nÄ± Ã¼retme kabiliyeti (maliyet avantajÄ±)",
          "GeniÅŸ araÃ§ yelpazesi (otobÃ¼s, kamyon, sedan)",
          "HÄ±zlÄ± Ã¼retim ve Ã¶lÃ§eklenme kapasitesi",
          "Fiyat-performans dengesi Ã§ok iyi",
          "Ã‡in devlet desteÄŸi"
        ],
        weaknesses: [
          "Global marka bilinirliÄŸi Tesla'ya gÃ¶re dÃ¼ÅŸÃ¼k",
          "BatÄ± pazarlarÄ±nda algÄ± sorunu",
          "YazÄ±lÄ±m ve otonom sÃ¼rÃ¼ÅŸ geride",
          "Premium segment algÄ±sÄ± zayÄ±f",
          "Servis aÄŸÄ± yurtdÄ±ÅŸÄ±nda yetersiz"
        ],
        competitors: [
          { name: "Tesla", score: 95 },
          { name: "SAIC Motor", score: 73 },
          { name: "Geely", score: 69 },
          { name: "XPeng", score: 75 }
        ],
        learnings: [
          "Dikey entegrasyon maliyetleri dÃ¼ÅŸÃ¼rÃ¼r ve kontrolÃ¼ artÄ±rÄ±r",
          "GeniÅŸ Ã¼rÃ¼n yelpazesi farklÄ± segmentlere hitap eder",
          "Yerel pazar hakimiyeti global geniÅŸleme iÃ§in gÃ¼Ã§lÃ¼ temel",
          "HÄ±z ve Ã¶lÃ§ek modern pazarda kritik",
          "Fiyat-performans dengesi kitle pazarÄ± iÃ§in Ã¶nemli"
        ]
      },
      {
        name: "Apple",
        score: 98,
        industry: "Teknoloji",
        logo: "ğŸ",
        factors: [
          "Premium marka konumlandÄ±rmasÄ±",
          "TutarlÄ± ve minimalist marka dili",
          "Developer community ve ekosistem",
          "YÃ¼ksek mÃ¼ÅŸteri sadakati ve advocacy",
          "Etkinlik ve Ã¼rÃ¼n lansmanlarÄ±nÄ±n viral gÃ¼cÃ¼"
        ],
        strengths: [
          "Ekosistem (iPhone, iPad, Mac, Watch) birbirini tamamlÄ±yor",
          "Privacy ve gÃ¼venlik odaklÄ± pazarlama",
          "Perakende deneyimi (Apple Store) eÅŸsiz",
          "Marka sadakati ve mÃ¼ÅŸteri memnuniyeti Ã§ok yÃ¼ksek",
          "ÃœrÃ¼n tasarÄ±mÄ± ve kullanÄ±cÄ± deneyimi sektÃ¶r standardÄ±",
          "Developer ekosistemi gÃ¼Ã§lÃ¼ ve karlÄ±"
        ],
        weaknesses: [
          "YÃ¼ksek fiyatlandÄ±rma geniÅŸ kitleye ulaÅŸmayÄ± zorlaÅŸtÄ±rÄ±yor",
          "KapalÄ± ekosistem bazÄ± kullanÄ±cÄ±larÄ± uzaklaÅŸtÄ±rÄ±yor",
          "Siri gibi AI Ã¼rÃ¼nleri rakiplerin gerisinde",
          "AB'de rekabet soruÅŸturmalarÄ±",
          "YenilikÃ§ilik konusunda eleÅŸtiriler (son yÄ±llarda iteratif deÄŸiÅŸiklikler)"
        ],
        competitors: [
          { name: "Samsung", score: 91 },
          { name: "Microsoft", score: 92 },
          { name: "Google", score: 89 },
          { name: "Huawei", score: 76 }
        ],
        learnings: [
          "Ekosistem stratejisi mÃ¼ÅŸterileri iÃ§eride tutar",
          "Premium fiyatlandÄ±rma kalite algÄ±sÄ±nÄ± gÃ¼Ã§lendirir",
          "Minimalist tasarÄ±m ve kullanÄ±cÄ± deneyimi fark yaratÄ±r",
          "Fiziksel perakende mekanlarÄ± marka deneyimini gÃ¼Ã§lendirir",
          "Privacy gibi deÄŸerlere vurgu yaparak farklÄ±laÅŸÄ±n"
        ]
      },
      {
        name: "Nike",
        score: 94,
        industry: "Spor & Moda",
        logo: "ğŸ‘Ÿ",
        factors: [
          "Ä°konik slogan: 'Just Do It'",
          "Sporcu sponsorluklarÄ± ve hikaye anlatÄ±mÄ±",
          "Sosyal sorumluluk kampanyalarÄ±",
          "GÃ¼Ã§lÃ¼ gÃ¶rsel kimlik ve logo",
          "Global kÃ¼ltÃ¼rel etki"
        ],
        strengths: [
          "Duygusal baÄŸ kuran etkili pazarlama kampanyalarÄ±",
          "Michael Jordan, Cristiano Ronaldo gibi global yÄ±ldÄ±z sponsorluklarÄ±",
          "Nike+ ve SNKRS app ile dijital entegrasyon",
          "SÃ¼rdÃ¼rÃ¼lebilirlik ve Ã§evre dostu Ã¼rÃ¼n geliÅŸtirme",
          "Sokak kÃ¼ltÃ¼rÃ¼ ve streetwear'de gÃ¼Ã§lÃ¼ konum",
          "Limited edition stratejisi ile talep yaratma"
        ],
        weaknesses: [
          "Sweatshop skandallarÄ± ve Ã¼retim koÅŸullarÄ± eleÅŸtirileri (geÃ§miÅŸte)",
          "YÃ¼ksek fiyatlar orta gelir grubuna hitap etmiyor",
          "Ã‡in pazarÄ±nda Adidas ile rekabet",
          "BazÄ± Ã¼rÃ¼n kategorilerinde kalite ÅŸikayetleri",
          "AÅŸÄ±rÄ± sponsorluk baÄŸÄ±mlÄ±lÄ±ÄŸÄ±"
        ],
        competitors: [
          { name: "Adidas", score: 88 },
          { name: "Puma", score: 79 },
          { name: "Under Armour", score: 71 },
          { name: "New Balance", score: 74 }
        ],
        learnings: [
          "GÃ¼Ã§lÃ¼ bir slogan ve gÃ¶rsel kimlik nesiller boyu hatÄ±rlanÄ±r",
          "Sporcu ve influencer sponsorluklarÄ± marka deÄŸerini artÄ±rÄ±r",
          "Hikaye anlatÄ±mÄ± ile duygusal baÄŸ kurun",
          "Limited edition ve scarcity stratejisi talep yaratÄ±r",
          "Sosyal sorumluluk genÃ§ nesil iÃ§in Ã¶nemli"
        ]
      },
      {
        name: "Microsoft",
        score: 92,
        industry: "Teknoloji",
        logo: "ğŸ’»",
        factors: [
          "Enterprise Ã§Ã¶zÃ¼mleri ve B2B dominansÄ±",
          "Azure ve cloud liderliÄŸi",
          "GitHub ve developer ekosistemi",
          "AI entegrasyonu (Copilot, Bing AI)",
          "AÃ§Ä±k kaynak desteÄŸi ve topluluk yatÄ±rÄ±mlarÄ±"
        ],
        strengths: [
          "Cloud (Azure) pazarÄ±nda AWS'ye rakip gÃ¼Ã§lÃ¼ konum",
          "Office 365 ve Teams ile kurumsal pazarda liderlik",
          "GitHub ve developer araÃ§larÄ± ile yazÄ±lÄ±mcÄ± ekosistemi",
          "AI ve OpenAI ortaklÄ±ÄŸÄ± ile Ã¶nde",
          "Xbox ve gaming bÃ¶lÃ¼mÃ¼ ile Ã§eÅŸitlenme",
          "LinkedIn gibi stratejik satÄ±n almalar"
        ],
        weaknesses: [
          "TÃ¼ketici pazarÄ±nda Apple ve Google'a gÃ¶re zayÄ±f",
          "Windows Phone baÅŸarÄ±sÄ±zlÄ±ÄŸÄ±",
          "Eski teknoloji algÄ±sÄ± (genÃ§ nesil iÃ§in)",
          "Privacy konusunda eleÅŸtiriler",
          "BazÄ± Ã¼rÃ¼nler kullanÄ±cÄ± dostu deÄŸil (karmaÅŸÄ±k)"
        ],
        competitors: [
          { name: "Amazon (AWS)", score: 93 },
          { name: "Google Cloud", score: 87 },
          { name: "Apple", score: 98 },
          { name: "IBM", score: 74 }
        ],
        learnings: [
          "Enterprise odaklÄ± stratejiler istikrarlÄ± gelir saÄŸlar",
          "Cloud altyapÄ±sÄ± geleceÄŸin temeli",
          "Developer ekosistemi yatÄ±rÄ±mÄ± uzun vadeli baÅŸarÄ±",
          "Stratejik satÄ±n almalar (LinkedIn, GitHub) ekosistemi gÃ¼Ã§lendirir",
          "AI entegrasyonu ile Ã¼rÃ¼nleri modernleÅŸtirin"
        ]
      },
      {
        name: "Coca-Cola",
        score: 96,
        industry: "GÄ±da & Ä°Ã§ecek",
        logo: "ğŸ¥¤",
        factors: [
          "100+ yÄ±llÄ±k marka mirasÄ±",
          "Evrensel marka tanÄ±nÄ±rlÄ±ÄŸÄ±",
          "Duygusal pazarlama ve nostalji",
          "Global daÄŸÄ±tÄ±m aÄŸÄ± ve her yerde bulunabilirlik",
          "TutarlÄ± marka mesajÄ±: mutluluk"
        ],
        strengths: [
          "DÃ¼nyanÄ±n en tanÄ±nan markalarÄ±ndan biri",
          "GÃ¼Ã§lÃ¼ daÄŸÄ±tÄ±m aÄŸÄ± (dÃ¼nyanÄ±n her yerinde bulunabilir)",
          "Reklam ve pazarlama bÃ¼tÃ§esi Ã§ok yÃ¼ksek",
          "Nostalji ve duygusal baÄŸ",
          "TutarlÄ± marka kimliÄŸi (kÄ±rmÄ±zÄ±-beyaz, ÅŸiÅŸe tasarÄ±mÄ±)",
          "Sponsorluklar (Olimpiyatlar, FIFA)"
        ],
        weaknesses: [
          "SaÄŸlÄ±k trendleri ÅŸekerli iÃ§ecek tÃ¼ketimini azaltÄ±yor",
          "Ã‡evresel etki ve plastik kullanÄ±mÄ± eleÅŸtiriliyor",
          "Yeni nesil saÄŸlÄ±klÄ± alternatiflere yÃ¶neliyor",
          "Su tasarrufu ve su kullanÄ±mÄ± konusunda eleÅŸtiriler",
          "ÃœrÃ¼n Ã§eÅŸitliliÄŸi fazla ama odaklanma eksik"
        ],
        competitors: [
          { name: "PepsiCo", score: 94 },
          { name: "Red Bull", score: 83 },
          { name: "Dr Pepper", score: 71 },
          { name: "Monster Energy", score: 76 }
        ],
        learnings: [
          "TutarlÄ± marka kimliÄŸi nesiller boyu deÄŸer taÅŸÄ±r",
          "Duygusal pazarlama ve nostalji gÃ¼Ã§lÃ¼ baÄŸ yaratÄ±r",
          "Global daÄŸÄ±tÄ±m aÄŸÄ± ulaÅŸÄ±labilirlik saÄŸlar",
          "Sponsorluklar marka gÃ¶rÃ¼nÃ¼rlÃ¼ÄŸÃ¼nÃ¼ artÄ±rÄ±r",
          "SaÄŸlÄ±k trendlerine adapte olmak gerekiyor"
        ]
      },
      {
        name: "Amazon",
        score: 93,
        industry: "E-Ticaret & Teknoloji",
        logo: "ğŸ“¦",
        factors: [
          "MÃ¼ÅŸteri odaklÄ±lÄ±k (customer obsession)",
          "HÄ±zlÄ± teslimat ve lojistik mÃ¼kemmelliÄŸi",
          "AWS ile teknoloji liderliÄŸi",
          "Marketplace ekosistemi",
          "Ä°novasyon kÃ¼ltÃ¼rÃ¼ ve Ã§eÅŸitlilik"
        ],
        strengths: [
          "Prime Ã¼yelik programÄ± sadakat ve recurring revenue",
          "AWS dÃ¼nyanÄ±n en bÃ¼yÃ¼k cloud saÄŸlayÄ±cÄ±sÄ±",
          "Lojistik altyapÄ±sÄ± rakipsiz",
          "Alexa ve smart home ekosistemi",
          "Whole Foods satÄ±n alÄ±mÄ± ile fiziksel perakende",
          "Amazon Web Services (AWS) yÃ¼ksek kar marjÄ±"
        ],
        weaknesses: [
          "Ã‡alÄ±ÅŸan haklarÄ± ve Ã§alÄ±ÅŸma koÅŸullarÄ± eleÅŸtiriliyor",
          "Monopol eleÅŸtirileri ve rekabet soruÅŸturmalarÄ±",
          "KÃ¼Ã§Ã¼k iÅŸletmelere zarar veriyor algÄ±sÄ±",
          "Privacy ve veri toplama endiÅŸeleri (Alexa)",
          "BazÄ± kategorilerde kendi Ã¼rÃ¼nlerini Ã¶nplana Ã§Ä±karmasÄ±"
        ],
        competitors: [
          { name: "Walmart", score: 85 },
          { name: "Alibaba", score: 88 },
          { name: "Microsoft (Azure)", score: 92 },
          { name: "eBay", score: 69 }
        ],
        learnings: [
          "MÃ¼ÅŸteri odaklÄ±lÄ±k her ÅŸeyin merkezinde olmalÄ±",
          "Lojistik ve hÄ±zlÄ± teslimat rekabet avantajÄ±",
          "Prime gibi abonelik modelleri sadakat yaratÄ±r",
          "Cloud (AWS) gibi yan iÅŸler ana geliri geÃ§ebilir",
          "Marketplace modeli Ã¶lÃ§eklenmeyi hÄ±zlandÄ±rÄ±r"
        ]
      }
    ];

    // SektÃ¶r arama fonksiyonu
    let currentFilteredData = allMarketData;

    document.getElementById('sectorSearch').addEventListener('input', function(e) {
      const searchTerm = e.target.value.toLowerCase().trim();
      
      if (searchTerm === '') {
        currentFilteredData = allMarketData;
      } else {
        currentFilteredData = allMarketData.filter(company => 
          company.industry.toLowerCase().includes(searchTerm) ||
          company.name.toLowerCase().includes(searchTerm)
        );
      }
      
      renderMarketResearch();
    });

    function renderMarketResearch() {
      const container = document.getElementById('marketResearch');
      
      if (currentFilteredData.length === 0) {
        container.innerHTML = `
          <div class="col-span-full text-center py-12">
            <div class="text-6xl mb-4">ğŸ”</div>
            <p class="text-xl text-slate-400">Bu sektÃ¶rde henÃ¼z firma bulunamadÄ±.</p>
            <p class="text-sm text-slate-500 mt-2">FarklÄ± bir sektÃ¶r deneyin: Otomotiv, Teknoloji, GÄ±da, E-Ticaret, Spor...</p>
          </div>
        `;
        return;
      }

      container.innerHTML = currentFilteredData.map((company, index) => `
        <div class="glass-card rounded-3xl p-6 fade-in hover:scale-[1.02] transition-transform cursor-pointer" onclick="window.openDetailModal(${index})">
          <div class="flex items-center justify-between mb-4">
            <div class="flex items-center gap-3">
              <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500/20 to-purple-500/20 flex items-center justify-center text-2xl">
                ${company.logo}
              </div>
              <div>
                <h3 class="text-xl font-bold">${company.name}</h3>
                <p class="text-xs text-slate-500">${company.industry}</p>
              </div>
            </div>
            <div class="text-right">
              <div class="text-3xl font-black gradient-text">${company.score}</div>
              <div class="text-[9px] text-slate-500 uppercase tracking-wider">Skor</div>
            </div>
          </div>
          
          <div class="bg-slate-800/30 rounded-lg p-4 border border-slate-700">
            <h4 class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-3">BaÅŸarÄ± FaktÃ¶rleri</h4>
            <ul class="space-y-2">
              ${company.factors.slice(0, 3).map(factor => `
                <li class="flex items-start gap-2 text-xs text-slate-300">
                  <span class="text-green-400 shrink-0">âœ“</span>
                  <span>${factor}</span>
                </li>
              `).join('')}
            </ul>
            <div class="mt-3 text-center">
              <span class="text-xs text-blue-400 font-semibold">ğŸ‘‰ DetaylÄ± analiz iÃ§in tÄ±klayÄ±n</span>
            </div>
          </div>
        </div>
      `).join('');

      lucide.createIcons();
    }

    window.openDetailModal = function(index) {
      const company = currentFilteredData[index];
      
      document.getElementById('modalLogo').innerText = company.logo;
      document.getElementById('modalTitle').innerText = company.name;
      document.getElementById('modalIndustry').innerText = company.industry;
      document.getElementById('modalScore').innerText = company.score;
      
      // BaÅŸarÄ± FaktÃ¶rleri
      document.getElementById('modalFactors').innerHTML = company.factors.map(factor => `
        <li class="flex items-start gap-3 text-sm">
          <span class="text-yellow-400 shrink-0 text-lg">â­</span>
          <span class="text-slate-300">${factor}</span>
        </li>
      `).join('');
      
      // Ä°yi YaptÄ±klarÄ±
      document.getElementById('modalStrengths').innerHTML = company.strengths.map(strength => `
        <li class="flex items-start gap-3 text-sm">
          <span class="text-emerald-400 shrink-0 text-lg">âœ“</span>
          <span class="text-slate-300">${strength}</span>
        </li>
      `).join('');
      
      // GeliÅŸim AlanlarÄ±
      document.getElementById('modalWeaknesses').innerHTML = company.weaknesses.map(weakness => `
        <li class="flex items-start gap-3 text-sm">
          <span class="text-orange-400 shrink-0 text-lg">âš </span>
          <span class="text-slate-300">${weakness}</span>
        </li>
      `).join('');
      
      // Rakipler
      document.getElementById('modalCompetitors').innerHTML = company.competitors.map(comp => {
        let scoreColor = "text-slate-400";
        if (comp.score >= 90) scoreColor = "text-green-400";
        else if (comp.score >= 80) scoreColor = "text-blue-400";
        else if (comp.score >= 70) scoreColor = "text-yellow-400";
        else scoreColor = "text-orange-400";
        
        return `
          <div class="bg-slate-800/50 rounded-lg p-3 border border-slate-700 flex items-center justify-between">
            <span class="text-sm font-semibold text-slate-300">${comp.name}</span>
            <span class="text-xl font-bold ${scoreColor}">${comp.score}</span>
          </div>
        `;
      }).join('');
      
      // Ã–ÄŸrenebilecekleriniz
      document.getElementById('modalLearnings').innerHTML = company.learnings.map((learning, idx) => `
        <li class="flex items-start gap-3 text-sm">
          <span class="flex-shrink-0 w-6 h-6 rounded-full bg-blue-500/20 text-blue-400 flex items-center justify-center text-xs font-bold">${idx + 1}</span>
          <span class="text-slate-300 leading-relaxed">${learning}</span>
        </li>
      `).join('');
      
      document.getElementById('detailModal').classList.remove('hidden');
      document.getElementById('detailModal').classList.add('flex');
      lucide.createIcons();
    }

    document.getElementById('closeModal').addEventListener('click', () => {
      document.getElementById('detailModal').classList.add('hidden');
      document.getElementById('detailModal').classList.remove('flex');
    });

    // Modal dÄ±ÅŸÄ±na tÄ±klayÄ±nca kapat
    document.getElementById('detailModal').addEventListener('click', (e) => {
      if (e.target.id === 'detailModal') {
        document.getElementById('detailModal').classList.add('hidden');
        document.getElementById('detailModal').classList.remove('flex');
      }
    });

    function loadMarketResearch() {
      currentFilteredData = allMarketData;
      renderMarketResearch();
    }
    }

    function showSection(id) {
      ['section-input', 'section-loading', 'section-results'].forEach(sec => {
        document.getElementById(sec).classList.add('hidden-section');
      });
      document.getElementById(id).classList.remove('hidden-section');
    }

    function resetApp() {
      document.getElementById('brandInput').value = '';
      document.getElementById('industryInput').value = '';
      showSection('section-input');
    }

    async function startAnalysis() {
      const brand = document.getElementById('brandInput').value.trim();
      const industry = document.getElementById('industryInput').value.trim();

      if (!brand || !industry) {
        alert("âš ï¸ LÃ¼tfen marka ve sektÃ¶r bilgilerini girin!");
        return;
      }

      showSection('section-loading');
      
      let i = 0;
      loadingInterval = setInterval(() => {
        document.getElementById('loadingText').innerText = loadingMessages[i % loadingMessages.length];
        i++;
      }, 2500);

      try {
        const response = await fetch(VERCEL_BACKEND_URL, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ brand, industry }),
        });

        if (!response.ok) {
          const errorData = await response.json();
          throw new Error(errorData.error || "Sunucu HatasÄ±");
        }

        const data = await response.json();
        renderResults(data, brand, industry);

      } catch (error) {
        console.error("Hata:", error);
        alert("âŒ Analiz baÅŸarÄ±sÄ±z: " + error.message);
        resetApp();
      } finally {
        clearInterval(loadingInterval);
      }
    }

    function renderResults(data, brand, industry) {
      document.getElementById('resBrandName').innerText = `${brand.toUpperCase()} | ${industry.toUpperCase()}`;
      
      const score = data.score || 0;
      document.getElementById('resScore').innerText = score;
      document.getElementById('scoreCircle').style.setProperty('--score', score);
      document.getElementById('resScoreExplanation').innerText = data.scoreExplanation || "DetaylÄ± skor aÃ§Ä±klamasÄ± hazÄ±rlanÄ±yor...";
      
      const categoryBadge = document.getElementById('scoreCategory');
      const category = data.scoreCategory || "DeÄŸerlendiriliyor";
      categoryBadge.innerText = category;
      
      if (score >= 90) {
        categoryBadge.className = "inline-block px-3 py-1 text-xs font-bold rounded-full bg-green-500/20 text-green-400 border border-green-500/50";
      } else if (score >= 80) {
        categoryBadge.className = "inline-block px-3 py-1 text-xs font-bold rounded-full bg-blue-500/20 text-blue-400 border border-blue-500/50";
      } else if (score >= 60) {
        categoryBadge.className = "inline-block px-3 py-1 text-xs font-bold rounded-full bg-yellow-500/20 text-yellow-400 border border-yellow-500/50";
      } else if (score >= 40) {
        categoryBadge.className = "inline-block px-3 py-1 text-xs font-bold rounded-full bg-orange-500/20 text-orange-400 border border-orange-500/50";
      } else {
        categoryBadge.className = "inline-block px-3 py-1 text-xs font-bold rounded-full bg-red-500/20 text-red-400 border border-red-500/50";
      }
      
      document.getElementById('resClaimedSector').innerText = data.identityAnalysis?.claimedSector || industry;
      document.getElementById('resDetectedSector').innerText = data.identityAnalysis?.detectedSector || industry;
      
      const matchStatus = document.getElementById('resMatchStatus');
      const indicator = document.getElementById('matchIndicator');
      const status = data.identityAnalysis?.matchStatus || "EÅLEÅME DOÄRULANDI";
      matchStatus.innerText = status;
      
      if (status.includes("SAPMA") || status.includes("Yetersiz")) {
        matchStatus.className = "text-[9px] font-bold px-2 py-0.5 rounded bg-rose-950 text-rose-400 border border-rose-900";
        indicator.className = "absolute top-0 left-0 w-1 h-full bg-rose-600 rounded-full";
      } else {
        matchStatus.className = "text-[9px] font-bold px-2 py-0.5 rounded bg-emerald-950 text-emerald-400 border border-emerald-900";
        indicator.className = "absolute top-0 left-0 w-1 h-full bg-emerald-500 rounded-full";
      }
      
      const insightSpan = document.getElementById('resInsight').querySelector('span');
      if (insightSpan) {
        insightSpan.innerText = data.identityAnalysis?.insight || "AI algÄ± analizi tamamlandÄ±.";
      }

      const platformsDiv = document.getElementById('resPlatforms');
      platformsDiv.innerHTML = "";
      (data.platforms || [
        {name: "Gemini", status: "Analiz Edildi"},
        {name: "ChatGPT", status: "SimÃ¼le Edildi"},
        {name: "Claude", status: "TarandÄ±"}
      ]).forEach(p => {
        platformsDiv.innerHTML += `
          <div class="flex items-center justify-between text-sm p-2 bg-slate-800/50 rounded border border-slate-700">
            <span class="text-xs font-semibold text-slate-300">${p.name}</span>
            <span class="text-[10px] px-2 py-0.5 rounded bg-emerald-950 text-emerald-400 border border-emerald-900">${p.status}</span>
          </div>`;
      });

      document.getElementById('resSummary').innerText = data.strategicSummary || "Stratejik Ã¶zet hazÄ±rlanÄ±yor...";
      
      const strList = document.getElementById('resStrengths');
      strList.innerHTML = "";
      (data.strengths || ["YÃ¼kleniyor..."]).forEach(s => {
        strList.innerHTML += `<li class="flex items-start gap-2"><span class="text-emerald-500 shrink-0">â€¢</span><span>${s}</span></li>`;
      });
      
      const weakList = document.getElementById('resWeaknesses');
      weakList.innerHTML = "";
      (data.weaknesses || ["YÃ¼kleniyor..."]).forEach(w => {
        weakList.innerHTML += `<li class="flex items-start gap-2"><span class="text-rose-500 shrink-0">â€¢</span><span>${w}</span></li>`;
      });

      const compList = document.getElementById('resCompetitors');
      compList.innerHTML = "";
      
      if (data.competitors?.direct && data.competitors.direct.length > 0) {
        compList.innerHTML += `<p class="text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-3">DOÄRUDAN RAKÄ°PLER</p>`;
        data.competitors.direct.forEach(c => {
          const competitorScore = c.score || 0;
          let scoreColor = "text-slate-400";
          if (competitorScore >= 80) scoreColor = "text-green-400";
          else if (competitorScore >= 60) scoreColor = "text-blue-400";
          else if (competitorScore >= 40) scoreColor = "text-yellow-400";
          else scoreColor = "text-red-400";
          
          compList.innerHTML += `
            <div class="bg-slate-800/50 rounded-lg p-3 border border-slate-700 mb-2">
              <div class="flex items-center justify-between mb-1">
                <span class="font-semibold text-slate-300 text-sm">${c.name}</span>
                <span class="text-lg font-bold ${scoreColor}">${competitorScore}</span>
              </div>
              <p class="text-[10px] text-slate-500">${c.status}</p>
            </div>`;
        });
      }
      
      if (data.competitors?.leaders && data.competitors.leaders.length > 0) {
        compList.innerHTML += `<p class="text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-3 mt-4">PAZAR LÄ°DERLERÄ°</p>`;
        data.competitors.leaders.forEach(c => {
          const leaderScore = c.score || 0;
          let scoreColor = "text-slate-400";
          if (leaderScore >= 80) scoreColor = "text-green-400";
          else if (leaderScore >= 60) scoreColor = "text-blue-400";
          else if (leaderScore >= 40) scoreColor = "text-yellow-400";
          else scoreColor = "text-red-400";
          
          compList.innerHTML += `
            <div class="bg-slate-800/50 rounded-lg p-3 border border-slate-700 mb-2">
              <div class="flex items-center justify-between mb-1">
                <span class="font-semibold text-slate-300 text-sm">${c.name}</span>
                <span class="text-lg font-bold ${scoreColor}">${leaderScore}</span>
              </div>
              <p class="text-[10px] text-slate-500">${c.status}</p>
            </div>`;
        });
      }

      document.getElementById('resOptRationale').innerText = `ğŸ¯ HEDEF: ${data.optimization?.objective || "Belirleniyor..."}\n\nğŸ“Š ANALÄ°Z: ${data.optimization?.rationale || "HazÄ±rlanÄ±yor..."}`;
      
      const visRecList = document.getElementById('resVisibilityRecommendations');
      visRecList.innerHTML = "";
      (data.visibilityRecommendations || ["Tavsiyeler hazÄ±rlanÄ±yor..."]).forEach((rec, idx) => {
        visRecList.innerHTML += `
          <li class="flex items-start gap-3">
            <span class="flex-shrink-0 w-6 h-6 rounded-full bg-yellow-500/20 text-yellow-400 flex items-center justify-center text-xs font-bold">${idx + 1}</span>
            <span class="leading-relaxed">${rec}</span>
          </li>`;
      });

      lucide.createIcons();
      showSection('section-results');
      setTimeout(() => document.getElementById('section-results').scrollIntoView({ behavior: 'smooth', block: 'start' }), 100);
    }
  </script>

</body>
</html>
