<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Iris â€¢ AI Marka GÃ¶rÃ¼nÃ¼rlÃ¼k Analizi</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
    * { font-family: 'Inter', sans-serif; }
    body { background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%); }
    .gradient-text { 
      background: linear-gradient(90deg, #60a5fa, #a78bfa, #f472b6);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .glass-card {
      background: rgba(15, 23, 42, 0.6);
      border: 1px solid rgba(148, 163, 184, 0.1);
      backdrop-filter: blur(10px);
    }
    .shimmer {
      animation: shimmer 2s infinite;
    }
    @keyframes shimmer {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 1; }
    }
    .pulse-slow {
      animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }
    .fade-in {
      animation: fadeIn 0.5s ease-in;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .score-circle {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      background: conic-gradient(#60a5fa 0deg, #a78bfa 180deg, #f472b6 360deg);
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      animation: rotate 3s linear infinite;
    }
    @keyframes rotate {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    .score-inner {
      width: 110px;
      height: 110px;
      border-radius: 50%;
      background: #0f172a;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
    }
  </style>
</head>
<body class="min-h-screen text-white">

  <!-- Hero Section -->
  <div class="container mx-auto px-4 py-12 max-w-6xl">
    
    <!-- Header -->
    <div class="text-center mb-16 fade-in">
      <h1 class="text-6xl font-black mb-4">
        <span class="gradient-text">IRIS</span>
      </h1>
      <p class="text-slate-400 text-lg max-w-2xl mx-auto leading-relaxed">
        MarkanÄ±zÄ±n <strong>ChatGPT, Gemini, Claude</strong> gibi yapay zeka platformlarÄ±nda ne kadar gÃ¶rÃ¼nÃ¼r olduÄŸunu keÅŸfedin. 
        Rakiplerinizi analiz edin ve <strong>AI Ã§aÄŸÄ±nda Ã¶ne Ã§Ä±kmanÄ±z iÃ§in</strong> stratejik Ã¶neriler alÄ±n.
      </p>
      <div class="flex items-center justify-center gap-2 mt-6">
        <span class="inline-block w-2 h-2 bg-green-500 rounded-full pulse-slow"></span>
        <span class="text-xs text-slate-500 uppercase tracking-wider">Gemini 2.0 Flash Teknolojisi</span>
      </div>
    </div>

    <!-- Form -->
    <div class="glass-card rounded-3xl p-8 mb-12 max-w-2xl mx-auto fade-in">
      <div class="mb-6">
        <label class="block text-sm font-semibold text-slate-300 mb-2">Marka AdÄ±</label>
        <input 
          id="brandInput" 
          type="text" 
          placeholder="Ã–rn: Tesla, Apple, Coca-Cola..."
          class="w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 transition"
        >
      </div>
      
      <div class="mb-6">
        <label class="block text-sm font-semibold text-slate-300 mb-2">SektÃ¶r</label>
        <input 
          id="industryInput" 
          type="text" 
          placeholder="Ã–rn: Otomotiv, Teknoloji, GÄ±da..."
          class="w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 transition"
        >
      </div>

      <button 
        id="analyzeBtn"
        class="w-full py-4 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 rounded-xl font-bold text-white hover:scale-[1.02] transition-transform shadow-lg"
      >
        ğŸ” ANALÄ°ZÄ° BAÅLAT
      </button>
    </div>

    <!-- Loading State -->
    <div id="loadingState" class="hidden glass-card rounded-3xl p-12 text-center max-w-2xl mx-auto fade-in">
      <div class="score-circle mx-auto mb-6">
        <div class="score-inner">
          <div class="text-2xl font-bold shimmer">âš¡</div>
        </div>
      </div>
      <h3 class="text-2xl font-bold mb-3">Analiz YapÄ±lÄ±yor...</h3>
      <p class="text-slate-400 text-sm mb-6">
        <span id="loadingText">AI platformlarÄ± taranÄ±yor</span>
      </p>
      <div class="flex justify-center gap-2">
        <span class="w-2 h-2 bg-blue-500 rounded-full shimmer" style="animation-delay: 0s"></span>
        <span class="w-2 h-2 bg-purple-500 rounded-full shimmer" style="animation-delay: 0.2s"></span>
        <span class="w-2 h-2 bg-pink-500 rounded-full shimmer" style="animation-delay: 0.4s"></span>
      </div>
    </div>

    <!-- Results -->
    <div id="resultsContainer" class="hidden space-y-6">
      
      <!-- Header Card -->
      <div class="glass-card rounded-3xl p-8 fade-in">
        <div class="flex items-center justify-between">
          <div>
            <h2 class="text-3xl font-black mb-2">
              Analiz Raporu
              <span class="inline-block px-3 py-1 ml-3 text-xs font-bold bg-green-500/20 text-green-400 rounded-full">CONFIDENTIAL</span>
            </h2>
            <p id="resBrandName" class="text-slate-400 text-lg">-</p>
          </div>
          <div class="text-right">
            <div id="resScore" class="text-5xl font-black gradient-text">0</div>
            <div class="text-xs font-bold text-slate-500 uppercase tracking-wider mt-1">GÃ¶rÃ¼nÃ¼rlÃ¼k Skoru</div>
            <p id="resScoreExplanation" class="text-xs text-slate-400 mt-3 max-w-xs leading-relaxed"></p>
          </div>
        </div>
      </div>

      <!-- Identity Analysis -->
      <div class="glass-card rounded-3xl p-8 fade-in">
        <div class="flex items-start gap-4 mb-6">
          <div class="w-12 h-12 rounded-xl bg-blue-500/20 flex items-center justify-center flex-shrink-0">
            <span class="text-2xl">ğŸ”</span>
          </div>
          <div class="flex-1">
            <h3 class="text-xl font-bold mb-2">Kimlik Tespiti</h3>
            <p class="text-sm text-slate-400">Beyan vs. AlgÄ±</p>
          </div>
        </div>

        <div class="grid md:grid-cols-2 gap-4 mb-6">
          <div class="bg-slate-800/50 rounded-xl p-4 border border-slate-700">
            <div class="text-xs text-slate-500 uppercase tracking-wider mb-2">Beyan Edilen</div>
            <div id="resClaimedSector" class="text-lg font-semibold">Otomotiv</div>
          </div>
          <div class="bg-slate-800/50 rounded-xl p-4 border border-slate-700">
            <div class="text-xs text-slate-500 uppercase tracking-wider mb-2">Gemini Tespiti</div>
            <div class="flex items-center gap-2">
              <div id="resDetectedSector" class="text-lg font-semibold">Elektrikli AraÃ§lar, Enerji Depolama ve Yapay Zeka Teknolojileri</div>
              <span id="resMatchStatus" class="inline-block px-2 py-1 text-xs font-bold bg-green-500/20 text-green-400 rounded">EÅLEÅME DOÄRULANDI</span>
            </div>
          </div>
        </div>

        <div class="bg-slate-800/30 rounded-xl p-4 border-l-4 border-blue-500">
          <div class="flex items-start gap-3">
            <span class="text-xl">ğŸ’¡</span>
            <p id="resIdentityInsight" class="text-sm text-slate-300 leading-relaxed">
              Tesla, otomotiv sektÃ¶rÃ¼nde elektrikli araÃ§lar, batarya teknolojileriyle devrim yaratan, enerji ve yapay zeka alanlarÄ±nda da faaliyet gÃ¶steren Ã¶ncÃ¼ bir markadÄ±r.
            </p>
          </div>
        </div>
      </div>

      <!-- Competitors -->
      <div class="glass-card rounded-3xl p-8 fade-in">
        <div class="flex items-start gap-4 mb-6">
          <div class="w-12 h-12 rounded-xl bg-purple-500/20 flex items-center justify-center flex-shrink-0">
            <span class="text-2xl">âš”ï¸</span>
          </div>
          <div class="flex-1">
            <h3 class="text-xl font-bold mb-2">Rakip Analizi</h3>
            <p class="text-sm text-slate-400">AI platformlarÄ±nda gÃ¶rÃ¼nÃ¼rlÃ¼k karÅŸÄ±laÅŸtÄ±rmasÄ±</p>
          </div>
        </div>

        <div class="grid md:grid-cols-2 gap-6">
          <!-- Direct Competitors -->
          <div>
            <h4 class="text-sm font-bold text-slate-400 uppercase tracking-wider mb-3">Direkt Rakipler</h4>
            <div id="resDirectCompetitors" class="space-y-2">
              <!-- Dinamik iÃ§erik buraya gelecek -->
            </div>
          </div>

          <!-- Leaders -->
          <div>
            <h4 class="text-sm font-bold text-slate-400 uppercase tracking-wider mb-3">SektÃ¶r Liderleri</h4>
            <div id="resLeaders" class="space-y-2">
              <!-- Dinamik iÃ§erik buraya gelecek -->
            </div>
          </div>
        </div>
      </div>

      <!-- Strategic Summary -->
      <div class="glass-card rounded-3xl p-8 fade-in">
        <div class="flex items-start gap-4 mb-4">
          <div class="w-12 h-12 rounded-xl bg-pink-500/20 flex items-center justify-center flex-shrink-0">
            <span class="text-2xl">ğŸ¯</span>
          </div>
          <div class="flex-1">
            <h3 class="text-xl font-bold mb-2">Stratejik Ã–zet</h3>
            <p id="resSummary" class="text-slate-300 leading-relaxed">
              <!-- Dinamik iÃ§erik -->
            </p>
          </div>
        </div>
      </div>

      <!-- Strengths & Weaknesses -->
      <div class="grid md:grid-cols-2 gap-6">
        <!-- Strengths -->
        <div class="glass-card rounded-3xl p-8 fade-in">
          <h3 class="text-lg font-bold mb-4 flex items-center gap-2">
            <span class="text-2xl">ğŸ’ª</span> GÃ¼Ã§lÃ¼ YÃ¶nler
          </h3>
          <ul id="resStrengths" class="space-y-3">
            <!-- Dinamik iÃ§erik -->
          </ul>
        </div>

        <!-- Weaknesses -->
        <div class="glass-card rounded-3xl p-8 fade-in">
          <h3 class="text-lg font-bold mb-4 flex items-center gap-2">
            <span class="text-2xl">âš ï¸</span> ZayÄ±f YÃ¶nler
          </h3>
          <ul id="resWeaknesses" class="space-y-3">
            <!-- Dinamik iÃ§erik -->
          </ul>
        </div>
      </div>

      <!-- Optimization -->
      <div class="glass-card rounded-3xl p-8 fade-in">
        <div class="flex items-start gap-4 mb-6">
          <div class="w-12 h-12 rounded-xl bg-green-500/20 flex items-center justify-center flex-shrink-0">
            <span class="text-2xl">ğŸš€</span>
          </div>
          <div class="flex-1">
            <h3 class="text-xl font-bold mb-2">Ä°yileÅŸtirme Ã–nerileri</h3>
            <p class="text-sm text-slate-400">AI gÃ¶rÃ¼nÃ¼rlÃ¼ÄŸÃ¼nÃ¼zÃ¼ artÄ±rmak iÃ§in somut adÄ±mlar</p>
          </div>
        </div>

        <div class="bg-slate-800/50 rounded-xl p-6 border border-slate-700 mb-4">
          <div class="text-xs text-slate-500 uppercase tracking-wider mb-2">Ana Hedef</div>
          <div id="resObjective" class="text-lg font-semibold mb-3">-</div>
          <p id="resRationale" class="text-sm text-slate-400 leading-relaxed">-</p>
        </div>

        <div class="bg-gradient-to-r from-green-500/10 to-blue-500/10 rounded-xl p-6 border border-green-500/20">
          <div id="resOptimizationText" class="text-sm text-slate-200 leading-relaxed whitespace-pre-line">
            <!-- Dinamik iÃ§erik -->
          </div>
        </div>
      </div>

      <!-- Platforms -->
      <div class="glass-card rounded-3xl p-6 fade-in">
        <h3 class="text-sm font-bold text-slate-400 uppercase tracking-wider mb-4">Taranan Platformlar</h3>
        <div id="resPlatforms" class="flex flex-wrap gap-3">
          <!-- Dinamik iÃ§erik -->
        </div>
      </div>

    </div>

  </div>

  <script>
    const VERCEL_BACKEND_URL = "https://iris-intel.vercel.app/api/analyze";

    const loadingTexts = [
      "AI platformlarÄ± taranÄ±yor...",
      "Rakip markalarÄ± analiz ediliyor...",
      "GÃ¶rÃ¼nÃ¼rlÃ¼k skoru hesaplanÄ±yor...",
      "Stratejik Ã¶neriler hazÄ±rlanÄ±yor..."
    ];
    let loadingIndex = 0;

    document.getElementById('analyzeBtn').addEventListener('click', async () => {
      const brand = document.getElementById('brandInput').value.trim();
      const industry = document.getElementById('industryInput').value.trim();

      if (!brand || !industry) {
        alert('LÃ¼tfen marka adÄ± ve sektÃ¶r girin!');
        return;
      }

      // Show loading
      document.getElementById('loadingState').classList.remove('hidden');
      document.getElementById('resultsContainer').classList.add('hidden');

      // Animate loading text
      const loadingInterval = setInterval(() => {
        loadingIndex = (loadingIndex + 1) % loadingTexts.length;
        document.getElementById('loadingText').textContent = loadingTexts[loadingIndex];
      }, 2000);

      try {
        const response = await fetch(VERCEL_BACKEND_URL, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ brand, industry })
        });

        clearInterval(loadingInterval);

        if (!response.ok) {
          const errorData = await response.json();
          throw new Error(errorData.error || 'API HatasÄ±');
        }

        const data = await response.json();
        renderResults(data, brand);

      } catch (error) {
        clearInterval(loadingInterval);
        document.getElementById('loadingState').classList.add('hidden');
        alert('Analiz HatasÄ±: ' + error.message);
        console.error(error);
      }
    });

    function renderResults(data, brandName) {
      document.getElementById('loadingState').classList.add('hidden');
      document.getElementById('resultsContainer').classList.remove('hidden');

      // Header
      document.getElementById('resBrandName').textContent = brandName.toUpperCase();
      document.getElementById('resScore').textContent = data.score || 0;
      document.getElementById('resScoreExplanation').textContent = data.scoreExplanation || "Analiz tamamlandÄ±.";

      // Identity
      document.getElementById('resClaimedSector').textContent = data.identityAnalysis?.claimedSector || '-';
      document.getElementById('resDetectedSector').textContent = data.identityAnalysis?.detectedSector || '-';
      
      const matchStatus = document.getElementById('resMatchStatus');
      const status = data.identityAnalysis?.matchStatus || 'Yetersiz Veri';
      matchStatus.textContent = status;
      matchStatus.className = status === 'EÅLEÅME DOÄRULANDI' 
        ? 'inline-block px-2 py-1 text-xs font-bold bg-green-500/20 text-green-400 rounded' 
        : 'inline-block px-2 py-1 text-xs font-bold bg-red-500/20 text-red-400 rounded';

      document.getElementById('resIdentityInsight').textContent = data.identityAnalysis?.insight || '-';

      // Competitors
      const directCompetitors = document.getElementById('resDirectCompetitors');
      directCompetitors.innerHTML = (data.competitors?.direct || []).map(c => `
        <div class="bg-slate-800/50 rounded-lg p-3 border border-slate-700">
          <div class="font-semibold text-sm">${c.name}</div>
          <div class="text-xs text-slate-400 mt-1">${c.status}</div>
        </div>
      `).join('');

      const leaders = document.getElementById('resLeaders');
      leaders.innerHTML = (data.competitors?.leaders || []).map(l => `
        <div class="bg-slate-800/50 rounded-lg p-3 border border-slate-700">
          <div class="font-semibold text-sm">${l.name}</div>
          <div class="text-xs text-slate-400 mt-1">${l.status}</div>
        </div>
      `).join('');

      // Summary
      document.getElementById('resSummary').textContent = data.strategicSummary || '-';

      // Strengths
      const strengths = document.getElementById('resStrengths');
      strengths.innerHTML = (data.strengths || []).map(s => `
        <li class="flex items-start gap-3">
          <span class="text-green-400 text-lg">âœ“</span>
          <span class="text-sm text-slate-300">${s}</span>
        </li>
      `).join('');

      // Weaknesses
      const weaknesses = document.getElementById('resWeaknesses');
      weaknesses.innerHTML = (data.weaknesses || []).map(w => `
        <li class="flex items-start gap-3">
          <span class="text-red-400 text-lg">âœ—</span>
          <span class="text-sm text-slate-300">${w}</span>
        </li>
      `).join('');

      // Optimization
      document.getElementById('resObjective').textContent = data.optimization?.objective || '-';
      document.getElementById('resRationale').textContent = data.optimization?.rationale || '-';
      document.getElementById('resOptimizationText').textContent = data.optimization?.text || '-';

      // Platforms
      const platforms = document.getElementById('resPlatforms');
      platforms.innerHTML = (data.platforms || []).map(p => `
        <div class="flex items-center gap-2 bg-slate-800/50 px-4 py-2 rounded-lg border border-slate-700">
          <span class="w-2 h-2 bg-green-500 rounded-full"></span>
          <span class="text-sm font-medium">${p.name}</span>
          <span class="text-xs text-slate-500">${p.status}</span>
        </div>
      `).join('');

      // Scroll to results
      document.getElementById('resultsContainer').scrollIntoView({ behavior: 'smooth', block: 'start' });
    }
  </script>

</body>
</html>
